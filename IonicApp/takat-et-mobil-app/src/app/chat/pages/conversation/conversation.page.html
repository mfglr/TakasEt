<ion-header [translucent]="true" class="header">
  <ion-toolbar class="toolbar">

    <ion-buttons slot="start">
      <ion-back-button defaultHref="/chat/create-conversation">
      </ion-back-button>
    </ion-buttons>

    <div class="profile">
      <app-profile-image [diameter]="3" [user]="conversation?.receiver"></app-profile-image>
      <ng-container *ngIf="conversation && conversation.receiver">
        <div class="names">
          <span class="user-name">{{conversation.receiver.userName | toShortText : 15}}</span>
          <span class="name">{{conversation.receiver.fullName | toShortText : 20 | toUpperFirstLetterOfAllWords}}</span>
        </div>
      </ng-container>
    </div>

  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true" class="content" [scrollEvents]="true">
  <app-message-box-list [messages]="messages$ | async"></app-message-box-list>
  <div id="bottomOfMessages"></div>
</ion-content>

<ion-footer style="padding: 0.5rem;">
  <app-message-input [receiverId]="conversation?.receiver?.id"></app-message-input>
</ion-footer>
